{"version":3,"file":"static/js/457.66c88a2d.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.js","services/api.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Reviews_list__KDRW6\",\"listElement\":\"Reviews_listElement__vzLOK\",\"author\":\"Reviews_author__CSOBX\",\"review\":\"Reviews_review__DJI7P\",\"noReviews\":\"Reviews_noReviews__9d+cl\"};","import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport css from './Reviews.module.css'\r\nimport { fetchReviews } from 'services/api';\r\n\r\nfunction Reviews() {\r\n    const [reviews, setReviews] = useState('')\r\n    const location = useLocation();\r\n    const {id} = location.state\r\n\r\n    useEffect(() => {\r\n        async function getMovieReviews() {\r\n            const data = await fetchReviews(id);\r\n            setReviews(data.results)\r\n        }\r\n        getMovieReviews()\r\n    }, [id])\r\n\r\n    return (\r\n        <ul className={css.list}>\r\n            {reviews.length > 0 ? (\r\n                reviews.map(review => (\r\n                    <li className={css.listElement} key={review.id}><h4 className={css.author}>{review.author}:</h4>\r\n                        <p class={css.review}>{review.content}</p></li>\r\n                ))\r\n            ) : (<p className={css.noReviews}>No reviews</p>)}\r\n      </ul>\r\n  )\r\n}\r\n\r\nexport default Reviews;\r\n","const headers = {\r\n  Authorization:\r\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZjljNGQ1OGI3Nzc5Y2E3ZjU0NzQzOGVjMDY1YTdkMiIsInN1YiI6IjYzYWRlYjM2MWY3NDhiMDBjOGI3NTk3ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.yuBGdZBeGbe4GxiKZv6q5aaLChprjgO_x8cJYcfPPzA',\r\n  accept: 'application/json',\r\n};\r\n\r\nasync function fetchAPI() {\r\n  try {\r\n    const response = await fetch(\r\n      'https://api.themoviedb.org/3/trending/movie/day?language=en-US',\r\n      {\r\n        headers,\r\n      }\r\n    );\r\n    const data = await response.json();\r\n    return data.results;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport default fetchAPI;\r\n\r\nexport const getMovieDetails = async movieId => {   //movieId\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\r\n      {\r\n        headers,\r\n      }\r\n    );\r\n    const data = response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport const fetchCredits = async movieId => {    //cast\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\r\n      { headers }\r\n    );\r\n    const data = response.json();\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const fetchReviews = async movieId => {    //reviews\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\r\n      { headers }\r\n    );\r\n    const data = response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport async function fetchMovies(query) {    //movies\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\r\n      { headers }\r\n    );\r\n    const data = await response.json();\r\n    return data.results;\r\n  } catch (error) {\r\n    console.log(error);\r\n    throw error;\r\n  }\r\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["useState","reviews","setReviews","id","useLocation","state","useEffect","fetchReviews","data","results","getMovieReviews","className","css","length","map","review","author","class","content","headers","Authorization","accept","fetchAPI","fetch","response","json","console","error","getMovieDetails","movieId","log","fetchCredits","fetchMovies","query","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}