{"version":3,"file":"static/js/174.e85082b7.chunk.js","mappings":"uLAAIA,EAAOC,E,uECCX,GAAgB,MAAQ,4BAA4B,UAAY,gCAAgC,SAAW,+BAA+B,UAAY,gCAAgC,WAAa,iCAAiC,eAAiB,qCAAqC,wBAA0B,8CAA8C,mBAAqB,yCAAyC,mBAAqB,0CDCjbC,EAAY,CAAC,QAAS,WAE1B,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAUH,EAASY,MAAMC,KAAMR,UAAY,CAE5T,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhNgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAASoB,EAAgBC,EAAMC,GAC7B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQd,EAAyBU,EAAMzB,GAE3C,OAAoB,gBAAoB,MAAOC,EAAS,CACtD6B,QAAS,YACTC,MAAO,4BACPC,IAAKN,EACL,kBAAmBE,GAClBC,GAAQ/B,IAAUA,EAAqB,gBAAoB,OAAQ,KAAmB,gBAAoB,QAAS,KAAM,2BAA4B6B,EAAqB,gBAAoB,QAAS,CACxMM,GAAIL,GACHD,GAAS,KAAM5B,IAAOA,EAAkB,gBAAoB,IAAK,CAClE,YAAa,UACbkC,GAAI,WACU,gBAAoB,OAAQ,CAC1CC,UAAW,QACXC,EAAG,yFACY,gBAAoB,OAAQ,CAC3CD,UAAW,QACXC,EAAG,qEAEP,CAEA,IAAIC,EAA0B,aAAiBZ,G,GAChC,I,iBEuDf,MApFA,WAAyB,IAAD,IACdS,GAAOI,EAAAA,EAAAA,MAAPJ,GACR,GAA0BK,EAAAA,EAAAA,UAAS,CAAC,GAApC,eAAOC,EAAP,KAAcC,EAAd,KAEMC,EAAY,qBADDC,EAAAA,EAAAA,MACaC,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,WAE7CC,EAAAA,EAAAA,YAAU,WAAM,wCACd,qGACqBC,EAAAA,EAAAA,IAAgBb,GADrC,OACQc,EADR,OAEEP,EAAS,CACPP,GAAIc,EAAKd,GACTN,MAAOoB,EAAKpB,MACZqB,SAAUD,EAAKC,SACfC,UAAWF,EAAKG,WAChBC,OAAQJ,EAAKI,OACbC,YAAaL,EAAKK,cARtB,4CADc,uBAAC,WAAD,wBAadC,EACD,GAAE,CAACpB,IAEJ,IAAMkB,EACJZ,GAASA,EAAMY,QAAUZ,EAAMY,OAAOG,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,MAGtE,OADAC,QAAQC,IAAIpB,IAEV,iBAAKL,UAAW0B,EAAAA,UAAhB,WACE,SAACC,EAAA,EAAD,WACE,kDAActB,EAAMZ,MAApB,wBAEF,SAAC,KAAD,CAAMO,UAAW0B,EAAAA,WAAgBE,GAAIrB,EAArC,UACE,SAAC,EAAD,CAAWP,UAAW0B,EAAAA,eAGxB,iBAAK1B,UAAW0B,EAAAA,SAAhB,UACGrB,GACCA,EAAMa,cACJ,gBACElB,UAAW0B,EAAAA,MACXG,IAAG,yCAAoCxB,EAAMa,aAC7CY,IAAI,eACJC,MAAM,UAIZ,iBAAK/B,UAAW0B,EAAAA,UAAhB,WACE,eAAI1B,UAAW0B,EAAAA,WAAf,SAAgCrB,EAAMZ,SACtC,wCAAgBY,EAAMU,UAAtB,QACA,uCACA,cAAGf,UAAW0B,EAAAA,cAAd,SAAkCrB,EAAMS,YACxC,qCAEE,iBAAKd,UAAW0B,EAAAA,WAAhB,UAAiCT,EAAjC,iBAIN,iBAAKjB,UAAW0B,EAAAA,eAAhB,WACE,eAAI1B,UAAW0B,EAAAA,wBAAf,sCACA,gBAAI1B,UAAW0B,EAAAA,mBAAf,WACE,yBACE,SAAC,KAAD,CACE1B,UAAW0B,EAAAA,mBACXE,GAAG,OACHnB,MAAO,CAAEV,GAAIA,EAAIW,KAAMH,GAHzB,qBAQF,yBACE,SAAC,KAAD,CACEP,UAAW0B,EAAAA,mBACXE,GAAG,UACHnB,MAAO,CAAEV,GAAIA,EAAIW,KAAMH,GAHzB,8BAUN,SAAC,KAAD,MAGL,C,8JC3FKyB,EAAU,CACdC,cACE,6NACFC,OAAQ,oBAGKC,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,+GAE2BC,MACrB,iEACA,CACEJ,QAAAA,IALR,cAEUK,EAFV,gBAQuBA,EAASC,OARhC,cAQUzB,EARV,yBASWA,EAAK0B,SAThB,wCAWIf,QAAQgB,MAAR,MAXJ,sFAgBA,KAtBA,WAMeL,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,EAkBR,IAAMvB,EAAe,mCAAG,WAAM6B,GAAN,kGAEJL,MAAM,sCAAD,OACYK,EADZ,mBAE1B,CACET,QAAAA,IALuB,cAErBK,EAFqB,OAQrBxB,EAAOwB,EAASC,OARK,kBASpBzB,GAToB,gCAW3BW,QAAQC,IAAR,MAX2B,yDAAH,sDAefiB,EAAY,mCAAG,WAAMD,GAAN,kGAEDL,MAAM,sCAAD,OACYK,EADZ,2BAE1B,CAAET,QAAAA,IAJoB,cAElBK,EAFkB,OAMlBxB,EAAOwB,EAASC,OANE,kBAQjBzB,GARiB,gCAUxBW,QAAQC,IAAR,MAVwB,yDAAH,sDAcZkB,EAAY,mCAAG,WAAMF,GAAN,kGAEDL,MAAM,sCAAD,OACYK,EADZ,kCAE1B,CAAET,QAAAA,IAJoB,cAElBK,EAFkB,OAMlBxB,EAAOwB,EAASC,OANE,kBAOjBzB,GAPiB,gCASxBW,QAAQC,IAAR,MATwB,yDAAH,sDAalB,SAAemB,EAAtB,+CAAO,OAAP,oBAAO,WAA2BC,GAA3B,kGAEoBT,MAAM,mDAAD,OACyBS,EADzB,8CAE1B,CAAEb,QAAAA,IAJD,cAEGK,EAFH,gBAMgBA,EAASC,OANzB,cAMGzB,EANH,yBAOIA,EAAK0B,SAPT,wCASHf,QAAQC,IAAR,MATG,sF","sources":["pages/Moviedetails/go-back-button.svg","webpack://goit-react-hw-05-movies/./src/pages/Moviedetails/MovieDetails.module.css?5521","pages/Moviedetails/MovieDetails.js","services/api.js"],"sourcesContent":["var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGoBackButton(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/200/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:#efae5e;}\"))), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    \"data-name\": \"Layer 7\",\n    id: \"Layer_7\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M16,31A15,15,0,1,1,31,16,15,15,0,0,1,16,31ZM16,3A13,13,0,1,0,29,16,13,13,0,0,0,16,3Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M19.4,22.8l-8-6a1,1,0,0,1,0-1.6l8-6,1.2,1.6L13.67,16l6.93,5.2Z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGoBackButton);\nexport default __webpack_public_path__ + \"static/media/go-back-button.fe3324c49ae7b0825e2db8730e4daf3e.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"image\":\"MovieDetails_image__TWqtG\",\"goBackBtn\":\"MovieDetails_goBackBtn__mh6Xv\",\"section1\":\"MovieDetails_section1__zCn6B\",\"movieInfo\":\"MovieDetails_movieInfo__k05Lz\",\"movieGenre\":\"MovieDetails_movieGenre__lrfds\",\"additionalInfo\":\"MovieDetails_additionalInfo__Gi+fo\",\"additionalInfo_headline\":\"MovieDetails_additionalInfo_headline__hKqkY\",\"additionalInfoList\":\"MovieDetails_additionalInfoList__ktlr9\",\"additionalInfoLink\":\"MovieDetails_additionalInfoLink__IXevD\"};","import { useParams, useLocation } from 'react-router-dom';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { getMovieDetails } from 'services/api';\r\nimport { Link, Outlet } from 'react-router-dom';\r\nimport css from './MovieDetails.module.css';\r\nimport { ReactComponent as GoBackBtn } from './go-back-button.svg';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nfunction MovieDetails() {\r\n  const { id } = useParams();\r\n  const [movie, setMovie] = useState({}); //''\r\n  const location = useLocation();\r\n  const backLinkHref = location.state?.from ?? '/movies';\r\n\r\n  useEffect(() => {\r\n    async function fetchMovieDetails() {\r\n      const data = await getMovieDetails(id);\r\n      setMovie({\r\n        id: data.id,\r\n        title: data.title,\r\n        overview: data.overview,\r\n        userScore: data.popularity,\r\n        genres: data.genres,\r\n        poster_path: data.poster_path,\r\n      });\r\n    }\r\n\r\n    fetchMovieDetails();\r\n  }, [id]);\r\n\r\n  const genres =\r\n    movie && movie.genres && movie.genres.map(genre => genre.name).join(', ');\r\n\r\n  console.log(movie);\r\n  return (\r\n    <div className={css.container}>\r\n      <Helmet>\r\n        <title>{`ðŸ”Ž ${movie.title} â€¢ Details`}</title>\r\n      </Helmet>\r\n      <Link className={css.goBackLink} to={backLinkHref}>\r\n        <GoBackBtn className={css.goBackBtn} />\r\n      </Link>\r\n\r\n      <div className={css.section1}>\r\n        {movie &&\r\n          movie.poster_path && ( //image\r\n            <img\r\n              className={css.image}\r\n              src={`https://image.tmdb.org/t/p/w300${movie.poster_path}`}\r\n              alt=\"Movie poster\"\r\n              width=\"100%\"\r\n            />\r\n          )}\r\n\r\n        <div className={css.movieInfo}>\r\n          <h1 className={css.movieTitle}>{movie.title}</h1>\r\n          <p>User score: {movie.userScore}%</p>\r\n          <h3>Overview:</h3>\r\n          <p className={css.movieOverview}>{movie.overview}</p>\r\n          <h4>\r\n            Genres:\r\n            <div className={css.movieGenre}>{genres}.</div>\r\n          </h4>\r\n        </div>\r\n      </div>\r\n      <div className={css.additionalInfo}>\r\n        <h4 className={css.additionalInfo_headline}>Additional information:</h4>\r\n        <ul className={css.additionalInfoList}>\r\n          <li>\r\n            <Link\r\n              className={css.additionalInfoLink}\r\n              to=\"cast\"\r\n              state={{ id: id, from: backLinkHref }}\r\n            >\r\n              Cast\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link\r\n              className={css.additionalInfoLink}\r\n              to=\"reviews\"\r\n              state={{ id: id, from: backLinkHref }}\r\n            >\r\n              Reviews\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <Outlet />\r\n    </div>\r\n  );\r\n}\r\nexport default MovieDetails;\r\n","const headers = {\r\n  Authorization:\r\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZjljNGQ1OGI3Nzc5Y2E3ZjU0NzQzOGVjMDY1YTdkMiIsInN1YiI6IjYzYWRlYjM2MWY3NDhiMDBjOGI3NTk3ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.yuBGdZBeGbe4GxiKZv6q5aaLChprjgO_x8cJYcfPPzA',\r\n  accept: 'application/json',\r\n};\r\n\r\nasync function fetchAPI() {\r\n  try {\r\n    const response = await fetch(\r\n      'https://api.themoviedb.org/3/trending/movie/day?language=en-US',\r\n      {\r\n        headers,\r\n      }\r\n    );\r\n    const data = await response.json();\r\n    return data.results;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport default fetchAPI;\r\n\r\nexport const getMovieDetails = async movieId => {   //movieId\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\r\n      {\r\n        headers,\r\n      }\r\n    );\r\n    const data = response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport const fetchCredits = async movieId => {    //cast\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\r\n      { headers }\r\n    );\r\n    const data = response.json();\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const fetchReviews = async movieId => {    //reviews\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\r\n      { headers }\r\n    );\r\n    const data = response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport async function fetchMovies(query) {    //movies\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\r\n      { headers }\r\n    );\r\n    const data = await response.json();\r\n    return data.results;\r\n  } catch (error) {\r\n    console.log(error);\r\n    throw error;\r\n  }\r\n}"],"names":["_defs","_g","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgGoBackButton","_ref","svgRef","title","titleId","props","viewBox","xmlns","ref","id","className","d","ForwardRef","useParams","useState","movie","setMovie","backLinkHref","useLocation","state","from","useEffect","getMovieDetails","data","overview","userScore","popularity","genres","poster_path","fetchMovieDetails","map","genre","name","join","console","log","css","Helmet","to","src","alt","width","headers","Authorization","accept","fetchAPI","fetch","response","json","results","error","movieId","fetchCredits","fetchReviews","fetchMovies","query"],"sourceRoot":""}